
@{
    ViewData["Title"] = "Usuarios registrados";
    Layout = "~/Views/Shared/_Layout.cshtml";
    //Layout = null;
}

@section styles {
    <!--Bootstrap 5 & Datatables CSS-->

    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/TablaCatalogo.css" />

}

@section scriptsup {

    <!--Bootstrap 5 & Datatables JS-->
    @*<script src="https://code.jquery.com/jquery-3.5.1.js"></script>*@
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.bootstrap5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.colVis.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
}


<partial name="_LoginPartial" />
<br />
<div id="vista-tabla">

    <table id="Tabla" class="table display cell-border table-bordered" style="width:100%">
        <thead>
            <tr class="table-custom"><th colspan="4" style="text-align:center"><h3 class="text-center">USUARIOS REGISTRADOS</h3></th></tr>
            <tr class="table-secondary">
                <th>Usuario</th>
                <th>Nombre</th>
                <th>Permisos</th>
                <th class="not-export-col" style="text-align:center">Acciones</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Filter..</th>
                <th>Filter..</th>
                <th>Filter..</th>
                <th>Filter..</th>
            </tr>
        </tfoot>
        <tbody>

            @for (int i = 0; i < ViewBag.ApplicationUser.Count; i++)
            {
                <tr>
                    <td>@ViewBag.ApplicationUser[i].UserName</td>
                    <td>@ViewBag.ApplicationUser[i].Nombre</td>
                    <td> @ViewBag.RoleNames[i] </td>
                    <td class="text-center">
                        <a href='/Admin/Usuarios/Edit/@ViewBag.ApplicationUser[i].Id' class='btn btn-success text-white' style='cursor:pointer; width:100px;'>
                            <i class='fas fa-edit'></i> Editar
                        </a>
                        <a href='/Admin/Usuarios/Edit/@ViewBag.ApplicationUser[i].Id' class='btn btn-success text-white' style='cursor:pointer; width:200px;'>
                            <i class='fas fa-edit'></i> Dar de baja
                        </a>
                        <button type="button" class="borrar btn btn-danger text-white" style='cursor:pointer;width:100px;' data-id="@ViewBag.ApplicationUser[i].Id" data-url="/Admin/Usuarios/Delete/">
                            <i class='fas fa-trash-alt'></i> Borrar
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>


</div>

@section scriptsdown {

    <script src="~/js/TablaCatalogos.js"></script>
}

<style>

    footer {
        display: none;
    }

</style>